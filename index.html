<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tu Sonido Interior</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f3f3f3;
      padding: 2rem;
      max-width: 700px;
      margin: auto;
    }
    h1, h2 {
      color: #1a237e;
    }
    .bloque {
      background: white;
      padding: 1rem;
      margin-bottom: 1.5rem;
      border-radius: 1rem;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .opciones {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }
    .opcion {
      padding: 0.5rem 1rem;
      border: 2px solid #ccc;
      border-radius: 0.5rem;
      background-color: #ffffff;
      cursor: pointer;
      transition: 0.3s;
      color: black;
    }
    .opcion:hover {
      background-color: #e3f2fd;
    }
    .opcion.seleccionada {
      border-color: #1a237e;
      background-color: #c5cae9;
      font-weight: bold;
    }
    .color-btn {
  color: white;
}
.color-btn.Blanco {
  color: black;
  border: 2px solid #ccc;
    }
    .Negro { background-color: #000; }
    .Rojo { background-color: #d32f2f; }
    .Blanco { background-color: #ffffff; color: black; border-color: #ccc; }
    .Amarillo { background-color: #fbc02d; color: black; }
    .Azul { background-color: #1a237e; }
    .Verde { background-color: #388e3c; }
    button {
      width: 100%;
      padding: 0.75rem;
      font-size: 1rem;
      background-color: #1a237e;
      color: white;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      margin-top: 1rem;
    }
    #resultado {
      display: none;
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <h1>Tu Sonido Interior</h1>

  <div class="bloque">
    <h2>1. Elige el color de la ficha</h2>
    <div class="opciones" id="colores"></div>
  </div>

  <div class="bloque">
    <h2>2. ¿Qué sonido sientes más tuyo?</h2>
    <div class="opciones" id="sonidos"></div>
  </div>

  <div class="bloque">
    <h2>3. ¿Qué ritmo te mueve más?</h2>
    <div class="opciones" id="ritmos"></div>
  </div>

  <div class="bloque">
    <h2>4. ¿Qué emoción quieres expresar?</h2>
    <div class="opciones" id="emociones"></div>
  </div>

  <button onclick="generarPerfil()">🎵 Revelar Mi Perfil Musical</button>

  <div id="resultado" class="bloque">
    <h2 id="nombrePerfil"></h2>
    <p id="descripcion"></p>
    <p><strong>Instrumento sugerido:</strong> <span id="instrumento"></span></p>
    <p><strong>Actividad recomendada:</strong> <span id="actividad"></span></p>
    <p><strong>Paisaje sonoro:</strong> <span id="paisaje"></span></p>
    <blockquote id="frase"></blockquote>
  </div>

  <script>
    const SONIDOS = {
      sonido_mio1: 'https://drive.google.com/file/d/1k9emw9ZUYV6HhdVP7akoroaZIUaAkPIm/view?usp=sharing',
      sonido2: 'https://drive.google.com/uc?id=1seDct6tNcHaEKqys0E91t0s8azzMbnfj',
      sonido3: 'https://drive.google.com/uc?id=1LUft90c6hUmS3pefXzaeiM8E_JWQ3v7A',
      ritmo1: 'https://drive.google.com/uc?id=1FNyn5JnlrZe5zlChQfewrYNuv0RmsSGl',
      ritmo2: 'https://drive.google.com/uc?id=16YtNf5vI81b9Tq1Z-vAaLU11IW-OMEZi',
      ritmo3: 'https://drive.google.com/uc?id=1YpFhpVp28A3yam_Tm5efHDs88U7PWEGd',
      ritmo4: 'https://drive.google.com/uc?id=1VVXw2a9_BIgk8b0oL3QArqJwF9rLIZWp',
      ritmo5: 'https://drive.google.com/uc?id=1zW_bvHrYbvM_LGWw1eOkb4lCtsvfGOZP',
      emocion1: 'https://drive.google.com/uc?id=1MEl77pMkrsONxsAbqS4gWh7s3q9Xhswi',
      emocion2: 'https://drive.google.com/uc?id=1LveJlSVdYHJFEzG-lCjuZ7rT3f4gekQW',
      emocion3: 'https://drive.google.com/uc?id=1_og2JpB2CZEwzfc8lTklrM4P9V-JN03O'
    };

    const opciones = {
      colores: ["Negro", "Rojo", "Blanco", "Amarillo", "Azul", "Verde"],
      sonidos: ["Sonido 1", "Sonido 2", "Sonido 3"],
      ritmos: ["Ritmo 1", "Ritmo 2", "Ritmo 3", "Ritmo 4", "Ritmo 5"],
      emociones: ["Emoción 1", "Emoción 2", "Emoción 3"]
    };

    const seleccion = {
      color: null,
      sonido: null,
      ritmo: null,
      emocion: null
    };

    function crearBotones(id, valores, tipo) {
      const contenedor = document.getElementById(id);
      valores.forEach((valor, index) => {
        const btn = document.createElement("button");
        btn.innerText = valor;
        btn.classList.add("opcion");
        if (tipo === "color") btn.classList.add("color-btn", valor);
        btn.onclick = () => {
          document.querySelectorAll(`#${id} .opcion`).forEach(b => b.classList.remove("seleccionada"));
          btn.classList.add("seleccionada");
          seleccion[tipo] = valor;
          if (tipo !== "color") {
            const audio = new Audio(SONIDOS[`${tipo}${index + 1}`]);
            audio.play();
          } else {
            alert(`Has elegido el color ${valor}. Toca el instrumento correspondiente.`);
          }
        };
        contenedor.appendChild(btn);
      });
    }

    window.onload = () => {
      crearBotones("colores", opciones.colores, "color");
      crearBotones("sonidos", opciones.sonidos, "sonido");
      crearBotones("ritmos", opciones.ritmos, "ritmo");
      crearBotones("emociones", opciones.emociones, "emocion");
    };

    let perfiles = [];
    fetch("Diagnostico_Completo_Tu_Sonido_Interior.json")
      .then(response => response.json())
      .then(data => perfiles = data)
      .catch(error => console.error("Error cargando JSON:", error));

    function generarPerfil() {
      const { color, sonido, ritmo, emocion } = seleccion;
      if (!color || !sonido || !ritmo || !emocion) {
        alert("Por favor, completa todas las selecciones.");
        return;
      }

      const perfil = perfiles.find(p => 
        p.Color === color && 
        p["Melodía"] === sonido && 
        p.Ritmo === ritmo && 
        p.Emoción === emocion);

      if (!perfil) {
        alert("No se encontró el perfil correspondiente. Verifica los datos.");
        return;
      }

      document.getElementById("nombrePerfil").innerText = perfil["Nombre del perfil"];
      document.getElementById("descripcion").innerText = perfil.Descripción;
      document.getElementById("instrumento").innerText = perfil["Instrumento sugerido"];
      document.getElementById("actividad").innerText = perfil["Actividad recomendada"];
      document.getElementById("paisaje").innerText = perfil["Paisaje sonoro"];
      document.getElementById("frase").innerText = perfil["Frase motivacional"];

      document.getElementById("resultado").style.display = "block";
    }
  </script>
</body>
</html>
